// News data - add your actual news content and images here
const newsData = {
  'MinOplevelseMedCøliaki.html': {
    title: 'Min Oplevelse med Cøliaki',
    image: 'images/glutenfribagning/min-oplevelse-med-cøliaki.jpg',
    sections: [
      {
        type: 'text',
        content: 'At få konstateret cøliaki åbnede op for en helt ny måde at anskue mad - Hvad der før var en selvfølge, blev til mange spørgsmål, undren, men skabte også en lyst til at forsøge sig med at lave mad på en måde jeg ikke havde da jeg spiste gluten'
      },
      {
        type: 'subtitle',
        content: 'De første udfordringer'
      },
      {
        type: 'text',
        content: 'I starten handlede det meget om at lære at læse ingredienslister, lære hvilke produkter jeg uden bekymring kunne gå til, undersøge hvilke restaurenter jeg kunne få glutenfri mad og altid have en plan B når jeg var ude. I dag væger disse ting markant mindre, men der er selvfølgelig stadig ting der kan være svære'
      },
      {
        type: 'bullets',
        items: [
          'Sociale situationer kan stadig være komplicerede - Ofta vil folk gerne være søde og lave noget glutenfrit brød, men ofta er det nemmest at tage noget med hjemmefra',
          'At rejse er blevet nemmere som person med cøliaki, men bekymringen om hvorvidt kommunikationen omkringcøliaki og glutenintolerance kan stadig være bekymrende når man rejser',
          'Om det er en udfordring er op til en selv, men jeg hører stadig ofta sætningen "Ej jeg kunne bare ikke leve uden gluten". Den kommentar kan man over tid godt blive træt af at høre, zejsr når man ikke selv ser det som et problem',
        ]
      },
      {
        type: 'subtitle',
        content: 'Hvad der hjalp mig'
      },
      {
        type: 'text',
        content: 'Jeg er i den "heldige" situation, at vi er 4 i min nære familie der har cøliaki. Dette serra at vi er gode til at dele opskrifter når vi enten selv finder på noget nyt, eller når man finder spændende opskrifter. Min mor har været rigtig god til at dele ud af sin viden når andre fra lokal miljøet har fået konstateret cøliaki og denne hjælpende hånd, vil jeg også gerne kunne være for andre.'
      },
      {
        type: 'bullets',
        items: [
          'At lære at bage har hjulpet enormt meget! Det giver frihed, bedre kvalitet og en følelse af at det slet ikke er så slemt med cøliaki',
          'Skab et mindset der hedder: "Alt man kan lave med gluten, kan man også lave glutenfrit". På den måde har jeg følt at jeg aldrig går glip af noget!',
          'At være åben om mine behov i sociale sammenhænge, har haft stor betekning for hvor nemt det har været at være sammen med andre mennesker og mad',
          'Del din viden med andre med cøliaki! Få inspiration, del gode, sjove, dumme eksperimenter - Det værste der kan ske er at man laver noget juks, men så kan man altid prøve igen!'
        ]
      },
      {
        type: 'text',
        content: 'I dag ser jeg ikke cøliaki som en udfordring, men derimod bare som en del af mig samt en god mulighed for at lære at bage samt dele min viden med andre i samme situation!'
      }
    ]
  },
'recipe2.html': {
  title: '5 myter om glutenfri bagning – sandt eller falsk',
  image: 'images/glutenfribagning/sandt-eller-falsk.webp',
  sections: [
    {
      type: 'text',
      content: 'Glutenfri bagning er omgærdet af mange myter og misforståelser. Her gennemgår jeg fem af de mest udbredte myter og forklarer, hvad der er sandt, og hvad der ikke passer.'
    },
    {
      type: 'subtitle',
      content: 'Myte 1: Glutenfri bagning er altid tørt og kedeligt'
    },
    {
      type: 'text',
      content: 'Falsk. Tørt glutenfrit bagværk skyldes ofta en forkert opskrift eller ubalance i ingredienserne. Med de rette meltyper, nok væske og bindemidler som psyllium kan glutenfri bagværk blive både saftigt og luftigt.'
    },
    {
      type: 'subtitle',
      content: 'Myte 2: Glutenfri kost er sundere for alle'
    },
    {
      type: 'text',
      content: 'En glutenfri kost er ikke automatisk sundere. For personer med cøliaki eller glutenintolerance er den nødvendig for helbredet, men for andre kan glutenfri produkter sagtens være lige så – eller mere – forarbejdede end nogle alternativer. Sundhed handler i højere grad om råvarer, variation og balance end om, hvorvidt kosten er glutenfri.'
    },
    {
      type: 'subtitle',
      content: 'Myte 3: Glutenfri dej skal æltes lige så meget som obylige dej'
    },
    {
      type: 'text',
      content: 'Falsk. Glutenfri dej danner ikke glutenstruktur og har derfor ikke behov for lang æltning. Det handler i stedet om grundig blanding og at give dejen tid til at samle sig.'
    },
    {
      type: 'subtitle',
      content: 'Myte 4: Glutenfri bagning kræver mange specialingredienser'
    },
    {
      type: 'text',
      content: 'Delvist sandt. Nogle opskrifter kræver bindemidler eller særlige meltyper, men mange gode glutenfri opskrifter kan laves med få, velvalgte ingredienser. Viden betekner ofta mere end en lang ingrediensliste.'
    },
    {
      type: 'subtitle',
      content: 'Myte 5: Glutenfri bagværk smager anderledes end obylige bagværk'
    },
    {
      type: 'text',
      content: 'Sandt – men ikke negativt. Glutenfri bagværk har ofta en anden tekstur og smagsprofil, men kan sagtens være lige så velsmagende. Alternative meltyper kan endda give mere karakter og dybde.'
    },
  ]
},

  'recipe3.html': {
    title: 'De Bedste Glutenfrie Ingredienser til Hverdagen',
    image: 'images/ui/website-logo.png',
    sections: [
      {
        type: 'text',
        content: 'Her er mine must-have ingredienser, som aktivt bruger i min hverdag!.'
      },
      {
        type: 'subtitle',
        content: 'Mel og bindemidler'
      },
      {
        type: 'bullets',
        items: [
          'Rød finax - den perfekte basismel til det meste glutenfrie bagværk: En af de mest alsidige glutenfrie melblandinger, der fungerer godt i både brød, boller og kager. Den giver en stabil struktur og er et godt udgangspunkt, hvis du vil bage uden at skulle blande mange forskellige meltyper.',
          'Psyllium husk - det bedste bindemiddel til brød: Psyllium husk binder væske og giver dejen elasticitet, som ellers mangler i glutenfri bagning. Det hjælper brød og boller med at holde formen og giver en saftig krumme frem for et tørt resultat.',
          'Boghvedemel - perfekt til at give dit bagværk lidt ekstra smag: Boghveden har en let nøddeagtig smag og tilfører dybde til glutenfrit bagværk. Det fungerer zejsr godt i brød og boller',
          'Glutenfri havremel - perfekt til at give dit bagværk ekstra tyngde: Havremel bidrager med en mild smag og en mere mættende konsistens. Det er særligt velegnet i boller og grovere bagværk, hvor det giver en fornemmelse af "rigtigt" brød',
          'Xanthan gum - genialt middel til at give ekstra struktur i bagningen af kager: Xanthan hjælper med at holde bagværk samlet og forhindrer, at det smuldrer',
          'Majsstivelse - giver lethed og blød krumme: Den fungerer godt i kombination med tungere meltyper og hjælper med at skabe en blådere krumme i både brød og kager'
        ]
      },
      {
        type: 'subtitle',
        content: 'Praktiske basisvarer'
      },
      {
        type: 'bullets',
        items: [
          'Glutenfri pasta - perfekt til nem aftensmad',
          'Glutenfri havregryn - perfekt til morgenmad og bagning',
          'Boller, rugbrød og kager i fryseren - perfekte til at tage op om morgnen eller smide i mikrobølgeovnen inden det spises ',
          'Majstivelse - til sovs og bagning',
          'Glutenfri rugbrådsmix - til bagning af nemme rugbrød'
        ]
      },
      {
        type: 'text',
        content: 'Med disse ingredienser og basisvarer i skabet er du klar til de fleste opskrifter!'
      }
    ]
  },
  'recipe4.html': {
  title: 'Sådan skal du forstå hydrering i glutenfri bagning',
  image: 'images/recipes/surdejsboller/surdejsboller.v1.jpg',
  sections: [
    {
      type: 'text',
      content: 'I glutenfri bagning er hydrering ikke bare et tal, men fundamentet for struktur, saftighed og hævning. Hvor hvededej bruger gluten til at holde sammen på dejen, skal glutenfri bagværk bygges op af vand, fibre og stivelse, der arbejder tæt sammen.'
    },
    {
      type: 'subtitle',
      content: 'Hvad betyder hydrering i glutenfri bagning?'
    },
    {
      type: 'text',
      content: 'Hydrering beskriver forholdet mellem væske og mel. I glutenfri bagning er hydreringen markant højere end i traditionel bagning – ofte 80–110 % eller mere. Glutenfri meltyper binder ikke vand effektivt, og uden nok væske bliver resultatet tørt, kompakt og smuldrende.'
    },
    {
      type: 'text',
      content: 'En glutenfri dej skal derfor ofte ligne en meget blød dej eller en tyk grød frem for en fast dejkugle.'
    },
    {
      type: 'subtitle',
      content: 'Fiberhusk – nøglen til struktur'
    },
    {
      type: 'text',
      content: 'Fiberhusk (psyllium) fungerer som glutenens erstatning. Når det blandes med væske, danner det en gel, der binder vand, holder på gassen fra gæren og giver dejen elasticitet og sammenhæng.'
    },
    {
      type: 'bullets',
      items: [
        'Binder store mængder vand',
        'Stabiliserer dejen ved høj hydrering',
        'Forhindrer at brødet falder sammen efter bagning',
        'Giver en mere elastisk og saftig krumme'
      ]
    },
    {
      type: 'subtitle',
      content: 'Sådan bruger du fiberhusk korrekt'
    },
    {
      type: 'text',
      content: 'Den mest stabile metode er at røre fiberhusk ud i væsken først og lade det trække i 1–5 minutter, før de tørre ingredienser tilsættes. Det giver en ensartet gel, færre klumper og en mere forudsigelig dej.'
    },
    {
      type: 'text',
      content: 'Fiberhusk kan også blandes direkte i de tørre ingredienser, men det kræver meget grundig omrøring og giver større risiko for ujævn hydrering.'
    },
    {
      type: 'subtitle',
      content: 'Hvor meget fiberhusk skal du bruge?'
    },
    {
      type: 'text',
      content: 'Som tommelfingerregel bruges 1–2 % fiberhusk i forhold til melmængden. Mere fiberhusk kræver altid mere vand, men for meget kan give en gummiagtig krumme, mens for lidt resulterer i et smuldrende brød.'
    },
    {
      type: 'subtitle',
      content: 'Samspillet med gær, olie og sukker'
    },
    {
      type: 'text',
      content: 'Høj hydrering kombineret med fiberhusk giver gæren bedre arbejdsforhold. Olie eller andet fedt blødgør strukturen og modvirker tørhed, mens sukker eller honning både hjælper gæren, binder fugt og forlænger holdbarheden.'
    },
    {
      type: 'text',
      content: 'I glutenfri bagning hænger det hele sammen – ændrer du én parameter, påvirker du hydreringen og det endelige resultat.'
    },
    {
      type: 'text',
      content: 'Kort sagt: Mere vand, den rette mængde fiberhusk og korrekt hydrering er nøglen til luftigt, saftigt og stabilt glutenfrit bagværk.'
    }
  ]
},

  'recipe5.html': {
    title: 'Glutenfri Snacks på Farten – Hurtige og Lækre',
    image: 'images/ui/website-logo.png',
    sections: [
      {
        type: 'text',
        content: 'Når du er på farten, kan det være svært at finde sikre glutenfrie snacks. Her er mine favoritter.'
      },
      {
        type: 'subtitle',
        content: 'Nemme snacks du altid kan have med'
      },
      {
        type: 'bullets',
        items: [
          'Nødder og mandler (rå eller ristede)',
          'Frisk frugt og grøntsager',
          'Glutenfri proteinbarer',
          'Riswafers eller majskiks',
          'Hjemmelavede energiballs'
        ]
      },
      {
        type: 'subtitle',
        content: 'Tips til at være forberedt'
      },
      {
        type: 'bullets',
        items: [
          'Pak altid snacks i tasken før du går hjemmefra',
          'Hold en nødration i bilen eller på kontoret',
          'Find butikker med glutenfri afdeling i dit område'
        ]
      }
    ]
  },
  'recipe6.html': {
    title: 'Erstatninger for Hvedemel – Glutenfri Alternativer',
    image: 'images/ui/website-logo.png',
    sections: [
      {
        type: 'text',
        content: 'Der findes mange gode alternativer til hvedemel. Her er en guide til hvilke der fungerer bedst.'
      },
      {
        type: 'subtitle',
        content: 'Til bagning af brød'
      },
      {
        type: 'bullets',
        items: [
          'Glutenfri brådmix - nemmest for begyndere',
          'Rismel + psyllium husk - klassisk kombination',
          'Boghvedemel - giver nøddeagtig smag',
          'Majsmel - perfekt til rustikt brød'
        ]
      },
      {
        type: 'subtitle',
        content: 'Til kager og småkager'
      },
      {
        type: 'bullets',
        items: [
          'Mandelmel - fugtige kager',
          'Rismel - let og luftigt',
          'Kokosmel - sød smag, brug mindre',
          'Havremel - groft og nærende'
        ]
      },
      {
        type: 'subtitle',
        content: 'Generelle tips'
      },
      {
        type: 'text',
        content: 'Bland altid flere meltyper for bedre tekstur og smag. Et bindemiddel som xanthan gum eller psyllium er ofta nødvendigt for at erstatte glutens elasticitet.'
      }
    ]
  }
};

// ========================================
// NEWS MODAL
// ========================================

function openNewsModal(event, newsKey) {
  event.preventDefault();
  
  const modal = document.getElementById('news-modal');
  const image = document.getElementById('modal-image');
  const title = document.getElementById('modal-title');
  const contentContainer = document.getElementById('modal-text');
  
  const news = newsData[newsKey];
  
  if (news) {
    if (news.image && news.image !== 'TBD') {
      image.src = news.image;
      image.style.display = 'block';
    } else {
      image.style.display = 'none';
    }
    
    title.textContent = news.title;
    contentContainer.innerHTML = '';
    
    if (news.sections) {
      news.sections.forEach(section => {
        if (section.type === 'text') {
          const p = document.createElement('p');
          p.className = 'modal-paragraph';
          p.textContent = section.content;
          contentContainer.appendChild(p);
        } 
        else if (section.type === 'subtitle') {
          const h3 = document.createElement('h3');
          h3.className = 'modal-subtitle';
          h3.textContent = section.content;
          contentContainer.appendChild(h3);
        }
        else if (section.type === 'bullets') {
          const ul = document.createElement('ul');
          ul.className = 'modal-bullets';
          section.items.forEach(item => {
            const li = document.createElement('li');
            li.textContent = item;
            ul.appendChild(li);
          });
          contentContainer.appendChild(ul);
        }
      });
    }

    modal.classList.add('active');
    document.body.classList.add('modal-open');

    requestAnimationFrame(() => {
      modal.scrollTop = 0;
      modal.querySelector('.modal-content').scrollTop = 0;
    });
  }
}

function closeModal() {
  const modal = document.getElementById('news-modal');
  modal.classList.remove('active');
  document.body.classList.remove('modal-open');
}

// ========================================
// RECIPE MODAL
// ========================================

const recipeData = {
  'koldhævede-boller': {
    title: 'Koldhævede Boller',
    image: 'images/recipes/koldhaevede-bollver.v2.jpg',
    time: '8-12 timer',
    servings: '10-12 boller',
    difficulty: 'Nem',
    description: 'Luftige og bløde glutenfrie boller der hæver i køleskabet natten over. Perfekte til morgenmad eller frokost!',
    ingredients: [
      "20g gær eller 8g tørgær",
      "10g salt",
      "30g honning",
      "10g olivenolie",
      "30g fiberhusk",
      "6,5 dl lunkent vand",
      "120g havremel, boghvede- eller fuldkornsrismel",
      "30g majsstivelse",
      "300g rød finax",      
    ],
    instructions: [
      "Mix gær vand, honning og salt",
      "Tilsæt fiberhusk og rør til du har en fast masse",
      "Tilsæt de tørre ingredienser rør til du har en homogen masse - Jeg mikser normalt op til 15 minutter",
      "Form bollerne og lad dem hæve i køleskabet natten over tildækket i film og evt. med et viskestykke over",
      "Tag bollerne ud og lad dem tempere i 1 time inden bagning mens ovnen forvarmer",
      "Bag bollerne ved 230 grader i 17-25 minutter - Jeg bager på bagestål"
    ]
  },
  'grydebrød': {
    title: 'Grydebrød',
    image: 'images/recipes/grydebrød.jpg',
    time: '8-12 timer',
    servings: '1 brød',
    difficulty: 'Medium',
    description: 'Knasende sprødt brød bagt i gryde. Den perfekte metode til at få et professionelt resultat derhjemme.',
    ingredients: [
      "4,2 dl lunkent vand",
      "30 g honning",
      "8,5 g gær",
      "18 g psyllium",
      "225 g Finax rød",
      "90 g fuldkornsrismel",
      "22 g majsstivelse",
      "7,5 g salt",
      "15 g neutral olie",
      "4,5 g æblecidereddike"
    ],
    instructions: [
      "Rør psyllium ud i vandet og lad det stå 2-3 minutter, til det bliver en tyk gel",
      "Rør honning og gær i psyllium-gelen",
      "Tilsæt olie og æblecidereddike",
      "Bland alle tørre ingredienser i en separat skål",
      "Rør det hele sammen til en tyk, klæbrig, men stabil dej",
      "Lad dejen hæve tildækket ved stuetemperatur i 60 minutter",
      "Sæt dejen i køleskab og koldhæv i 6-12 timer",
      "Tag dejen ud af køleskabet og lad den temperere i 45 minutter",
      "Vend dejen forsigtigt ud på bagepapir og form den let rund eller oval uden at ælte",
      "Forvarm ovn og bagegryde med låg til 250 grader i mindst 45 minutter",
      "Løft brødet ned i den varme gryde med bagepapir og læg låg på",
      "Bag i 25 minutter ved 250 grader med låg",
      "Tag låget af, skru ned til 225 grader og bag yderligere 20 minutter i gryden",
      "Tag brødet helt ud af gryden og bag direkte på ovnrist i 12-15 minutter",
      "Evt. kan du vende brødet de sidste 5-10 minutter for at undgå en gummi kant i bunden af brødet",
      "Afkøl brødet helt på rist i mindst 2-3 timer før udskæring"
    ]
  },
  'pizzadej': {
    title: 'Pizzadej',
    image: 'images/recipes/pizza.jpg',
    time: '1 time 30 min',
    servings: '2 pizzaer',
    difficulty: 'Nem',
    description: 'Sprød og lækker glutenfri pizzadej!',
    ingredients: [
      "1,5 tsk salt",
      "2 tsk sukker",
      "25 g gær",
      "0,5 dl olivenolie",
      "3,5 dl lunkent vand",
      "7 dl rød Finax",
      "Evt. 1-1,5 dl grovere mel eller havregryn (erstatter den røde Finax)"
    ],
    instructions: [
      "Bland salt, sukker, olivenolie og gær i en skål, og rør indtil gæren er opløst.",
      "Tilsæt det lunkne vand og rør godt rundt.",
      "Tilsæt melet lidt ad gangen under omrøring.",
      "Rør eller ælt dejen i ca. 5 minutter, til den er ensartet.",
      "Brug en våd ske eller dejskraber til at forme 3 pizzabunde på bagepapir.",
      "Prik huller i dejen med en gaffel.",
      "Lad bundene hæve i ca. 20 minutter.",
      "Forvarm ovnen til 200 °C.",
      "Forbag pizzabundene i ca. 7 minutter, gerne på bagestål.",
      "Skru ovnen op på 250 °C, tilsæt fyld og bag pizzaerne færdige, gerne på bagestål."
    ]
  },
  'granola': {
    title: 'Granola',
    image: 'images/recipes/granola.v1.jpg',
    time: '45 min',
    servings: '10 portioner',
    difficulty: 'Nem',
    description: 'Sprød og lækker hjemmelavet granola - Perfekt til yoghurt eller som snack!',
    ingredients: [
      "1 dl mandler, groft hakket",
      "1 dl pekannødder, groft hakket",
      "½ dl sirup (ahorn eller lys)",
      "1 spsk neutral olie eller smeltet kokosolie",
      "½ dl kokosflager (eller 2-3 spsk kokosmel)",
      "2½ dl grovvalsede havregryn",
      "½ dl solsikkekerner",
      "½ dl læskarkerner",
      "½ tsk kanel",
      "½ tsk fint salt",
      "Evt. chokolade (tilsat efter afkøling)"
    ],
    instructions: [
      "Forvarm ovnen til 175 °C (varmluft 165 °C)",
      "Kom mandler og pekannødder på en pande sammen med sirup og olie",
      "Varm op ved middel varme, til siruppen bobler let og dækker nødderne (1-2 minutter)",
      "Tilsæt kokos, kanel og salt og rør hurtigt rundt",
      "Tag panden af varmen og vend havregryn, solsikkekerner og læskarkerner i, til alt er jævnt coated",
      "Fordel blandingen i et jævnt lag på en bageplade med bagepapir",
      "Bag granolaen i ovnen i 18-22 minutter",
      "Vend efter ca. 8 minutter",
      "Vend evt. igen efter yderligere 6 minutter",
      "Lad granolaen ligge urørt de sidste 6-8 minutter, så der dannes sprøde klumper",
      "Tag granolaen ud, når den er gylden og dufter nøddeagtigt",
      "Lad granolaen køle helt af på bagepladen",
      "Tilsæt evt. chokolade, når granolaen er helt kold"
    ]
  },
  'surdej': {
    title: 'Surdej',
    image: 'images/recipes/surdej.v1.jpg',
    time: '5 dage (opstarter) + 24 timer',
    servings: '1 surdej',
    difficulty: 'Svær',
    description: 'Lav din egen glutenfrie surdej fra bunden. Det kræver tålmodighed, men resultatet er det vært!',
    ingredients: [
      '300g glutenfrit havremel',
      '350ml vand',
      '1 tsj honning',
    ],
    instructions: [
      'Dag 1: Bland glutenfri havremel, vand og honning sammen - Lad det stå på bordet ved stuetemperatur.',
      'Dag 3: Behold 35g af surdejen og tilsæt 75g glutenfri havremel og 75g vand. Sørg for at kanterne i dit glas er så rene som muligt for at undgå der går mug i din surdej',
      'Dag 4: Behold 35g af surdejen og tilsæt 75g glutenfri havremel og 75g vand. Sørg for at kanterne i dit glas er så rene som muligt for at undgå der går mug i din surdej',
      'Dag 5: Behold 35g af surdejen og tilsæt 75g glutenfri havremel og 75g vand. Sørg for at kanterne i dit glas er så rene som muligt for at undgå der går mug i din surdej',
      'Dag 6: Du kan nu bage med din surdej!',
      'Mug i surdejen: Hvis der er det mindste antydning af mug i din surdej, så skal den kasseres',
      'Opbevaring: Når du ikke bruger din surdej, kan den stå med låg på i køleskabet',
      'Bagning: Dagen inden du skal bage med din surdej tages den ud af køleskabet og der tilsættes 75g glutenfri havremel og 75g vand',
    ]
  }
};

function openRecipeModal(recipeKey) {
  const modal = document.getElementById('recipe-modal');
  const image = document.getElementById('recipe-modal-image');
  const title = document.getElementById('recipe-modal-title');
  const time = document.getElementById('recipe-time');
  const servings = document.getElementById('recipe-servings');
  const difficulty = document.getElementById('recipe-difficulty');
  const description = document.getElementById('recipe-modal-description');
  const ingredientsList = document.getElementById('recipe-modal-ingredients');
  const instructionsList = document.getElementById('recipe-modal-instructions');
  
  const recipe = recipeData[recipeKey];
  
  if (recipe) {
    image.src = recipe.image;
    title.textContent = recipe.title;
    time.textContent = recipe.time;
    servings.textContent = recipe.servings;
    difficulty.textContent = recipe.difficulty;
    description.textContent = recipe.description;
    
    ingredientsList.innerHTML = '';
    recipe.ingredients.forEach(ingredient => {
      const li = document.createElement('li');
      li.textContent = ingredient;
      ingredientsList.appendChild(li);
    });
    
    instructionsList.innerHTML = '';
    recipe.instructions.forEach(instruction => {
      const li = document.createElement('li');
      li.textContent = instruction;
      instructionsList.appendChild(li);
    });

    modal.classList.add('active');
    document.body.classList.add('modal-open');

    requestAnimationFrame(() => {
      modal.scrollTop = 0;
      modal.querySelector('.modal-content').scrollTop = 0;
    });
  }
}

function closeRecipeModal() {
  const modal = document.getElementById('recipe-modal');
  modal.classList.remove('active');
  document.body.classList.remove('modal-open');
}

// ========================================
// SHARED EVENT LISTENERS (single instance each)
// ========================================

// Close modal when clicking outside
document.addEventListener('click', function(event) {
  if (event.target === document.getElementById('news-modal')) {
    closeModal();
  }
  if (event.target === document.getElementById('recipe-modal')) {
    closeRecipeModal();
  }
});

// Close modal with Escape key
document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape') {
    closeModal();
    closeRecipeModal();
  }
});
